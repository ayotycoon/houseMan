import{N as u,O as j,X as p,U as h,j as s,V as n,B as g,Y as y}from"./index-hK64BZii.js";import{u as f,F as w,a as l,b as a,d as t,e as i}from"./form-hcR2V99M.js";import{ReturnButton as F}from"./ReturnButton-CHZPTXc-.js";import"./vendor-utils-D56E7WW6.js";import"./vendor-core-C2O2dLVs.js";import"./vendor-ui-Bj3frcKa.js";function q(){const{t:e}=u(),{loginState:d,backToLogin:c}=j(),m=p({mutationFn:y.signup}),o=f({defaultValues:{username:"",email:"",password:"",confirmPassword:""}}),x=async r=>{await m.mutateAsync(r),c()};return d!==h.REGISTER?null:s.jsx(w,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(x),className:"space-y-4",children:[s.jsx("div",{className:"flex flex-col items-center gap-2 text-center",children:s.jsx("h1",{className:"text-2xl font-bold",children:e("sys.login.signUpFormTitle")})}),s.jsx(l,{control:o.control,name:"username",rules:{required:e("sys.login.accountPlaceholder")},render:({field:r})=>s.jsxs(a,{children:[s.jsx(t,{children:s.jsx(n,{placeholder:e("sys.login.userName"),...r})}),s.jsx(i,{})]})}),s.jsx(l,{control:o.control,name:"email",rules:{required:e("sys.login.emaildPlaceholder")},render:({field:r})=>s.jsxs(a,{children:[s.jsx(t,{children:s.jsx(n,{placeholder:e("sys.login.email"),...r})}),s.jsx(i,{})]})}),s.jsx(l,{control:o.control,name:"password",rules:{required:e("sys.login.passwordPlaceholder")},render:({field:r})=>s.jsxs(a,{children:[s.jsx(t,{children:s.jsx(n,{type:"password",placeholder:e("sys.login.password"),...r})}),s.jsx(i,{})]})}),s.jsx(l,{control:o.control,name:"confirmPassword",rules:{required:e("sys.login.confirmPasswordPlaceholder"),validate:r=>r===o.getValues("password")||e("sys.login.diffPwd")},render:({field:r})=>s.jsxs(a,{children:[s.jsx(t,{children:s.jsx(n,{type:"password",placeholder:e("sys.login.confirmPassword"),...r})}),s.jsx(i,{})]})}),s.jsx(g,{type:"submit",className:"w-full",children:e("sys.login.registerButton")}),s.jsxs("div",{className:"mb-2 text-xs text-gray",children:[s.jsx("span",{children:e("sys.login.registerAndAgree")}),s.jsx("a",{href:"./",className:"text-sm underline! text-primary!",children:e("sys.login.termsOfService")})," & ",s.jsx("a",{href:"./",className:"text-sm underline! text-primary!",children:e("sys.login.privacyPolicy")})]}),s.jsx(F,{onClick:c})]})})}export{q as default};
